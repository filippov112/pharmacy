
# ИНФОРМАЦИОННАЯ СИСТЕМА АПТЕКИ

## Описание

Программное решение, которое осуществляет управление базой данных аптеки для учета каталога препаратов, договоров поставок, заказов; слежение за регулярностью поставок; хранение данных о пользователях.

В информационной системе хранятся данные о препаратах, клиентах аптеки, поставщиках, врачах и лечебных учреждениях для надзора за распространением препаратов по рецептам, сертификатах качества поставщиков, заказах. Управление системой разделено по ролям пользователей, где каждая группа сотрудников отвечает за определенные действия, будь то управление поступлениями, контроль над справочниками, управление каталогом препаратов, оформление заказов, управление аккаунтами и правами сотрудников. 

Разработка данного программного модуля выполнена при помощи фреймворка Django на языке программирования Python, в связке с сервером баз данных Microsoft SQL Server 2017. Программный модуль выгружает отчетные формы в формате PDF.

---
## Функционал

1) Функции системного администратора:
	- Управление учетными записями пользователей
	- Управление группами прав
2) Функции администратора
	- Управление справочниками врачей и учреждений
3) Функции менеджера поставок:
	- Добавление поставщиков
	- Оформление договоров поставок
	- Занесение информации о сертификатах на препараты поставщиков
	- Учет поступлений
4) Функции фармацевта
	- Управление каталогом аптеки
5) Функции продавца
	- Создание карточек клиентов
	- Внесение рецептов в базу
	- Оформление заказов

---
## Технологии

Язык: Python 3.13.2
Фреймворк: Django 5.2.1
Отчеты: pdfkit

---
## Установка и запуск

1. Установите Python 3.13.2 - https://www.python.org/downloads/release/python-3132/
2. Настройте и активируйте окружение 

	```
	python -m venv venv       # создание окружения
	.\venv\Scripts\activate   # активация (Windows)
	```

3. Установите зависимости в requirements.txt

	```
	pip install -r requirements.txt
	```

4. Убедитесь в соответствии данных конфигурации подключения к БД PostgreSQL настройкам вашего сервера

	```python
	# pharmacy\pharmacy\pharmacy\settings.py
	DATABASES = {
	    "default": {
	        "ENGINE": "django.db.backends.postgresql",
	        "NAME": "pharmacy_base",
	        "USER": "admin",
	        "PASSWORD": "ei539EEg8",
	        "HOST": "localhost",
	        "PORT": "5432",
	    },
	}
	```

5. Примените миграции

	```
	python manage.py migrate
	```

6. Создайте суперпользователя

	```
	python manage.py createsuperuser
	```

7. Запустите приложение

	```
	python manage.py runserver
	```

---
## Руководство пользователя

#### Авторизация

При любой попытке перехода на сайт неавторизованного пользователя перебрасывает на страницу авторизации, где ему предлагается ввести его логин и пароль для входа в свою учетную запись для дальнейшего взаимодействия с сайтом.

![](./_/clip_image002.jpg)

Первое, что видит пользователь после процесса авторизации, это заглавная страница сайта со ссылками к доступным для данного пользователя модулям.

![](./_/clip_image004.jpg)

Права к различным модулям назначаются только системными администраторами при создании аккаунта для пользователя и определения его в соответствующую группу.
Также из любого другого места сайта можно попасть в любой из модулей с помощью скрытого бокового меню (кнопка в левом верхнем углу) в левой части экрана.

![](./_/clip_image006.jpg)

#### Создание пользователей

Итак, добавлять пользователей может только системный администратор, и только у него есть доступ панели администратора, с помощью которой он может это сделать.

![](./_/clip_image008.jpg)

При переходе в панель администратора нас интересуют модели «Пользователи» и «Группы».

![](./_/clip_image010.jpg)

Взаимодействуя с этими двумя моделями системный администратор может как добавлять пользователей или группы, так и изменять существующие, а также делегировать или лишать прав как отдельных пользователей, так и целые группы.

![](./_/clip_image012.jpg)

![](./_/clip_image014.jpg)

#### Выборки

Все модули системы представляют собой выборки данных определенной структуры и назначения. Пользователи наделяются правами, в соответствии с которыми они могут просматривать выборки, добавлять в них записи, удалять, либо изменять. Управление осуществляется панелью кнопок в верхнем правом углу окна браузера.

![](./_/clip_image016.jpg)

В програмном модуле предусмотрены возможности фильтрации и сортировки записей выборок.

![](./_/clip_image018.jpg)

![](./_/clip_image020.jpg)

#### Добавление, изменение, удаление записей

Для добавления записей служит кнопка «+» в шапке сайта, при нажатии на которую открывается форма добавления записи в соответствующий модуль. Там же расположена кнопка удаления записей, отображаемая при выделении хотя бы одной записи в выборке.

![](./_/clip_image022.jpg)

Рисунок 20 – Кнопки удаления и добавления записей

![](./_/clip_image024.jpg)
Также записи можно удалять из окна просмотра. И в том же окне присутствует кнопка для редактирования записи, при нажатии на которую открывается форма редактирования.

![](./_/clip_image026.jpg)

Сохранение также выполняется посредством кнопки в шапке сайта после заполнения формы.

![](./_/clip_image028.jpg)

#### Формирование отчетов

Модуль отчетов доступен для всех пользователей и ссылка на него расположена вместе со ссылками к другим модулям с заглавной страницы, либо из бокового меню.

![](./_/clip_image030.jpg)

![](./_/clip_image032.jpg)

В настоящий момент в качестве примера реализовано только 4 отчетные формы доступные для формирования, представленные следующим списком.

![](./_/clip_image034.jpg)

После заполнения параметров отчета и нажатия кнопи «Сформировать» будет выполнена загрузка отчета в формате pdf.

![](./_/clip_image036.jpg)

![](./_/clip_image038.jpg)
